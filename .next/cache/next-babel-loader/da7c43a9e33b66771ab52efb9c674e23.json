{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = initializeBuildWatcher;\nvar _eventsource = require(\"./error-overlay/eventsource\");\nfunction initializeBuildWatcher() {\n  var shadowHost = document.createElement('div');\n  shadowHost.id = '__next-build-watcher'; // Make sure container is fixed and on a high zIndex so it shows\n  shadowHost.style.position = 'fixed';\n  shadowHost.style.bottom = '10px';\n  shadowHost.style.right = '20px';\n  shadowHost.style.width = 0;\n  shadowHost.style.height = 0;\n  shadowHost.style.zIndex = 99999;\n  document.body.appendChild(shadowHost);\n  var shadowRoot;\n  var prefix = '';\n  if (shadowHost.attachShadow) {\n    shadowRoot = shadowHost.attachShadow({\n      mode: 'open'\n    });\n  } else {\n    // If attachShadow is undefined then the browser does not support\n    // the Shadow DOM, we need to prefix all the names so there\n    // will be no conflicts\n    shadowRoot = shadowHost;\n    prefix = '__next-build-watcher-';\n  } // Container\n  var container = createContainer(prefix);\n  shadowRoot.appendChild(container); // CSS\n  var css = createCss(prefix);\n  shadowRoot.appendChild(css); // State\n  var isVisible = false;\n  var isBuilding = false;\n  var timeoutId = null; // Handle events\n  var evtSource = (0, _eventsource.getEventSourceWrapper)({\n    path: '/_next/webpack-hmr'\n  });\n  evtSource.addMessageListener(function (event) {\n    // This is the heartbeat event\n    if (event.data === \"\\uD83D\\uDC93\") {\n      return;\n    }\n    try {\n      handleMessage(event);\n    } catch (_unused) {}\n  });\n  function handleMessage(event) {\n    var obj = JSON.parse(event.data); // eslint-disable-next-line default-case\n    switch (obj.action) {\n      case 'building':\n        timeoutId && clearTimeout(timeoutId);\n        isVisible = true;\n        isBuilding = true;\n        updateContainer();\n        break;\n      case 'built':\n        isBuilding = false; // Wait for the fade out transtion to complete\n        timeoutId = setTimeout(function () {\n          isVisible = false;\n          updateContainer();\n        }, 100);\n        updateContainer();\n        break;\n    }\n  }\n  function updateContainer() {\n    if (isBuilding) {\n      container.classList.add(prefix + \"building\");\n    } else {\n      container.classList.remove(prefix + \"building\");\n    }\n    if (isVisible) {\n      container.classList.add(prefix + \"visible\");\n    } else {\n      container.classList.remove(prefix + \"visible\");\n    }\n  }\n}\nfunction createContainer(prefix) {\n  var container = document.createElement('div');\n  container.id = prefix + \"container\";\n  container.innerHTML = \"\\n    <div id=\\\"\" + prefix + \"icon-wrapper\\\">\\n      <svg viewBox=\\\"0 0 226 200\\\">\\n        <defs>\\n          <linearGradient\\n            x1=\\\"114.720775%\\\"\\n            y1=\\\"181.283245%\\\"\\n            x2=\\\"39.5399306%\\\"\\n            y2=\\\"100%\\\"\\n            id=\\\"\" + prefix + \"linear-gradient\\\"\\n          >\\n            <stop stop-color=\\\"#FFFFFF\\\" offset=\\\"0%\\\" />\\n            <stop stop-color=\\\"#000000\\\" offset=\\\"100%\\\" />\\n          </linearGradient>\\n        </defs>\\n        <g id=\\\"\" + prefix + \"icon-group\\\" fill=\\\"none\\\" stroke=\\\"url(#\" + prefix + \"linear-gradient)\\\" stroke-width=\\\"18\\\">\\n          <path d=\\\"M113,5.08219117 L4.28393801,197.5 L221.716062,197.5 L113,5.08219117 Z\\\" />\\n        </g>\\n      </svg>\\n    </div>\\n  \";\n  return container;\n}\nfunction createCss(prefix) {\n  var css = document.createElement('style');\n  css.textContent = \"\\n    #\" + prefix + \"container {\\n      position: absolute;\\n      bottom: 10px;\\n      right: 30px;\\n\\n      background: #fff;\\n      color: #000;\\n      font: initial;\\n      cursor: initial;\\n      letter-spacing: initial;\\n      text-shadow: initial;\\n      text-transform: initial;\\n      visibility: initial;\\n\\n      padding: 8px 10px;\\n      align-items: center;\\n      box-shadow: 0 11px 40px 0 rgba(0, 0, 0, 0.25), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n\\n      display: none;\\n      opacity: 0;\\n      transition: opacity 0.1s ease, bottom 0.1s ease;\\n      animation: \" + prefix + \"fade-in 0.1s ease-in-out;\\n    }\\n\\n    #\" + prefix + \"container.\" + prefix + \"visible {\\n      display: flex;\\n    }\\n\\n    #\" + prefix + \"container.\" + prefix + \"building {\\n      bottom: 20px;\\n      opacity: 1;\\n    }\\n\\n    #\" + prefix + \"icon-wrapper {\\n      width: 16px;\\n      height: 16px;\\n    }\\n\\n    #\" + prefix + \"icon-wrapper > svg {\\n      width: 100%;\\n      height: 100%;\\n    }\\n\\n    #\" + prefix + \"icon-group {\\n      animation: \" + prefix + \"strokedash 1s ease-in-out both infinite;\\n    }\\n\\n    @keyframes \" + prefix + \"fade-in {\\n      from {\\n        bottom: 10px;\\n        opacity: 0;\\n      }\\n      to {\\n        bottom: 20px;\\n        opacity: 1;\\n      }\\n    }\\n\\n    @keyframes \" + prefix + \"strokedash {\\n      0% {\\n        stroke-dasharray: 0 226;\\n      }\\n      80%,\\n      100% {\\n        stroke-dasharray: 659 226;\\n      }\\n    }\\n  \";\n  return css;\n}","map":{"version":3,"names":["exports","__esModule","initializeBuildWatcher","_eventsource","require","shadowHost","document","createElement","id","style","position","bottom","right","width","height","zIndex","body","appendChild","shadowRoot","prefix","attachShadow","mode","container","createContainer","css","createCss","isVisible","isBuilding","timeoutId","evtSource","getEventSourceWrapper","path","addMessageListener","event","data","handleMessage","_unused","obj","JSON","parse","action","clearTimeout","updateContainer","setTimeout","classList","add","remove","innerHTML","textContent"],"sources":["F:/Next/google-books/node_modules/next/dist/client/dev/dev-build-watcher.js"],"sourcesContent":["\"use strict\";exports.__esModule=true;exports.default=initializeBuildWatcher;var _eventsource=require(\"./error-overlay/eventsource\");function initializeBuildWatcher(){var shadowHost=document.createElement('div');shadowHost.id='__next-build-watcher';// Make sure container is fixed and on a high zIndex so it shows\nshadowHost.style.position='fixed';shadowHost.style.bottom='10px';shadowHost.style.right='20px';shadowHost.style.width=0;shadowHost.style.height=0;shadowHost.style.zIndex=99999;document.body.appendChild(shadowHost);var shadowRoot;var prefix='';if(shadowHost.attachShadow){shadowRoot=shadowHost.attachShadow({mode:'open'});}else{// If attachShadow is undefined then the browser does not support\n// the Shadow DOM, we need to prefix all the names so there\n// will be no conflicts\nshadowRoot=shadowHost;prefix='__next-build-watcher-';}// Container\nvar container=createContainer(prefix);shadowRoot.appendChild(container);// CSS\nvar css=createCss(prefix);shadowRoot.appendChild(css);// State\nvar isVisible=false;var isBuilding=false;var timeoutId=null;// Handle events\nvar evtSource=(0,_eventsource.getEventSourceWrapper)({path:'/_next/webpack-hmr'});evtSource.addMessageListener(event=>{// This is the heartbeat event\nif(event.data==='\\uD83D\\uDC93'){return;}try{handleMessage(event);}catch(_unused){}});function handleMessage(event){var obj=JSON.parse(event.data);// eslint-disable-next-line default-case\nswitch(obj.action){case'building':timeoutId&&clearTimeout(timeoutId);isVisible=true;isBuilding=true;updateContainer();break;case'built':isBuilding=false;// Wait for the fade out transtion to complete\ntimeoutId=setTimeout(()=>{isVisible=false;updateContainer();},100);updateContainer();break;}}function updateContainer(){if(isBuilding){container.classList.add(prefix+\"building\");}else{container.classList.remove(prefix+\"building\");}if(isVisible){container.classList.add(prefix+\"visible\");}else{container.classList.remove(prefix+\"visible\");}}}function createContainer(prefix){var container=document.createElement('div');container.id=prefix+\"container\";container.innerHTML=\"\\n    <div id=\\\"\"+prefix+\"icon-wrapper\\\">\\n      <svg viewBox=\\\"0 0 226 200\\\">\\n        <defs>\\n          <linearGradient\\n            x1=\\\"114.720775%\\\"\\n            y1=\\\"181.283245%\\\"\\n            x2=\\\"39.5399306%\\\"\\n            y2=\\\"100%\\\"\\n            id=\\\"\"+prefix+\"linear-gradient\\\"\\n          >\\n            <stop stop-color=\\\"#FFFFFF\\\" offset=\\\"0%\\\" />\\n            <stop stop-color=\\\"#000000\\\" offset=\\\"100%\\\" />\\n          </linearGradient>\\n        </defs>\\n        <g id=\\\"\"+prefix+\"icon-group\\\" fill=\\\"none\\\" stroke=\\\"url(#\"+prefix+\"linear-gradient)\\\" stroke-width=\\\"18\\\">\\n          <path d=\\\"M113,5.08219117 L4.28393801,197.5 L221.716062,197.5 L113,5.08219117 Z\\\" />\\n        </g>\\n      </svg>\\n    </div>\\n  \";return container;}function createCss(prefix){var css=document.createElement('style');css.textContent=\"\\n    #\"+prefix+\"container {\\n      position: absolute;\\n      bottom: 10px;\\n      right: 30px;\\n\\n      background: #fff;\\n      color: #000;\\n      font: initial;\\n      cursor: initial;\\n      letter-spacing: initial;\\n      text-shadow: initial;\\n      text-transform: initial;\\n      visibility: initial;\\n\\n      padding: 8px 10px;\\n      align-items: center;\\n      box-shadow: 0 11px 40px 0 rgba(0, 0, 0, 0.25), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n\\n      display: none;\\n      opacity: 0;\\n      transition: opacity 0.1s ease, bottom 0.1s ease;\\n      animation: \"+prefix+\"fade-in 0.1s ease-in-out;\\n    }\\n\\n    #\"+prefix+\"container.\"+prefix+\"visible {\\n      display: flex;\\n    }\\n\\n    #\"+prefix+\"container.\"+prefix+\"building {\\n      bottom: 20px;\\n      opacity: 1;\\n    }\\n\\n    #\"+prefix+\"icon-wrapper {\\n      width: 16px;\\n      height: 16px;\\n    }\\n\\n    #\"+prefix+\"icon-wrapper > svg {\\n      width: 100%;\\n      height: 100%;\\n    }\\n\\n    #\"+prefix+\"icon-group {\\n      animation: \"+prefix+\"strokedash 1s ease-in-out both infinite;\\n    }\\n\\n    @keyframes \"+prefix+\"fade-in {\\n      from {\\n        bottom: 10px;\\n        opacity: 0;\\n      }\\n      to {\\n        bottom: 20px;\\n        opacity: 1;\\n      }\\n    }\\n\\n    @keyframes \"+prefix+\"strokedash {\\n      0% {\\n        stroke-dasharray: 0 226;\\n      }\\n      80%,\\n      100% {\\n        stroke-dasharray: 659 226;\\n      }\\n    }\\n  \";return css;}"],"mappings":"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"},"metadata":{},"sourceType":"script"}