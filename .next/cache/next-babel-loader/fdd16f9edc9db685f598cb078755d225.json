{"ast":null,"code":"var _jsxFileName = \"F:\\\\Next\\\\google-books\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { useState } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport fetch from 'isomorphic-unfetch';\nimport { Layout, SearchBar, BookDetails, BookListBar } from '../components';\nconst Homepage = () => {\n  const {\n    0: treatise,\n    1: setTreatise\n  } = useState({\n    keyword: '',\n    items: [],\n    item: {}\n  });\n  const {\n    0: booklist,\n    1: setBookList\n  } = useState(new Set());\n  const {\n    0: showBookListBar,\n    1: setShowBookListBar\n  } = useState(false);\n  const {\n    0: focusSearch,\n    1: setFocusSearch\n  } = useState(false);\n  const toggleBookListBar = () => {\n    setShowBookListBar(!showBookListBar); // Toggle the visibility\n  };\n\n  // Search book by keyword\n  const searchHandler = e => {\n    const keyword = e.target.value;\n    if (keyword) {\n      fetch(`${process.env.apiUrl}/volumes?q=${keyword}&maxResults=5`).then(res => res.json()).then(data => {\n        if (data.totalItems > 0) {\n          setTreatise(_objectSpread({}, treatise, {\n            keyword: keyword,\n            items: data.items\n          }));\n        }\n      }).catch(err => console.log(err));\n    } else {\n      setTreatise(_objectSpread({}, treatise, {\n        items: []\n      }));\n    }\n  };\n\n  // Get specific treatise\n  const getTreatiseHandler = id => {\n    const {\n      items\n    } = treatise;\n    const targetItem = items.filter(item => item.id === id)[0];\n    setTreatise({\n      keyword: '',\n      items: [],\n      item: targetItem\n    });\n  };\n  const isEmptyObject = obj => {\n    return Object.keys(obj).length === 0;\n  };\n  const addBooklist = () => {\n    setBookList(prevBookList => new Set([...prevBookList, treatise.item])); // Update booklist as a new Set with added item\n  };\n\n  const handleFocus = () => {\n    setFocusSearch(true);\n  };\n  const handleBlur = () => {\n    setFocusSearch(false);\n  };\n  const {\n    keyword,\n    items,\n    item\n  } = treatise;\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, __jsx(BookListBar, {\n    showBookListBar: showBookListBar,\n    booklist: booklist,\n    toggleBookListBar: toggleBookListBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), __jsx(Layout, {\n    showBookListBar: !showBookListBar,\n    focusSearch: !focusSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    md: {\n      span: 8,\n      offset: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, __jsx(SearchBar, {\n    value: keyword,\n    data: items,\n    booklist: booklist,\n    changeHandler: searchHandler,\n    clickHandler: getTreatiseHandler,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    toggleBookListBar: toggleBookListBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }), isEmptyObject(item) ? __jsx(React.Fragment, null) : __jsx(BookDetails, {\n    data: item,\n    addBooklist: addBooklist,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 46\n    }\n  }))))));\n};\nexport default Homepage;","map":{"version":3,"names":["useState","Container","Row","Col","fetch","Layout","SearchBar","BookDetails","BookListBar","Homepage","treatise","setTreatise","keyword","items","item","booklist","setBookList","Set","showBookListBar","setShowBookListBar","focusSearch","setFocusSearch","toggleBookListBar","searchHandler","e","target","value","process","env","apiUrl","then","res","json","data","totalItems","_objectSpread","catch","err","console","log","getTreatiseHandler","id","targetItem","filter","isEmptyObject","obj","Object","keys","length","addBooklist","prevBookList","handleFocus","handleBlur","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","md","span","offset","changeHandler","clickHandler","onFocus","onBlur","React","Fragment"],"sources":["F:/Next/google-books/pages/index.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport fetch from 'isomorphic-unfetch';\r\n\r\nimport { Layout, SearchBar, BookDetails, BookListBar } from '../components';\r\n\r\nconst Homepage = () => {\r\n  const [treatise, setTreatise] = useState({\r\n    keyword: '',\r\n    items: [],\r\n    item: {}\r\n  });\r\n\r\n  const [booklist, setBookList] = useState(new Set());\r\n  const [showBookListBar, setShowBookListBar] = useState(false);\r\n  const [focusSearch, setFocusSearch] = useState(false);\r\n\r\n  const toggleBookListBar = () => {\r\n    setShowBookListBar(!showBookListBar); // Toggle the visibility\r\n  };  \r\n\r\n  // Search book by keyword\r\n  const searchHandler = (e) => {\r\n    const keyword = e.target.value;\r\n\r\n    if (keyword) {\r\n      fetch(`${process.env.apiUrl}/volumes?q=${keyword}&maxResults=5`)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.totalItems > 0) {\r\n            setTreatise({ \r\n              ...treatise,\r\n              keyword: keyword,\r\n              items: data.items\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      setTreatise({ \r\n        ...treatise,\r\n        items: [] \r\n      });\r\n    }\r\n  };\r\n\r\n  // Get specific treatise\r\n  const getTreatiseHandler = (id) => {\r\n    const { items } = treatise;\r\n    const targetItem = items.filter(item => item.id === id)[0];\r\n    \r\n    setTreatise({\r\n      keyword: '',\r\n      items: [],\r\n      item: targetItem\r\n    });\r\n  };\r\n\r\n  const isEmptyObject = (obj) => {\r\n    return Object.keys(obj).length === 0;\r\n  };\r\n\r\n  const addBooklist = () => {\r\n    setBookList(prevBookList => new Set([...prevBookList, treatise.item])); // Update booklist as a new Set with added item\r\n  };\r\n\r\n  const handleFocus = () => {\r\n    setFocusSearch(true);\r\n  };\r\n\r\n  const handleBlur = () => {\r\n    setFocusSearch(false);\r\n  };\r\n\r\n  const { keyword, items, item } = treatise;\r\n\r\n  return (\r\n    <div>\r\n      <BookListBar showBookListBar={showBookListBar} booklist={booklist} toggleBookListBar={toggleBookListBar} />\r\n      <Layout showBookListBar={!showBookListBar} focusSearch={!focusSearch}>\r\n        <Container>\r\n          <Row>\r\n            <Col md={{ span: 8, offset: 2 }}>\r\n              <SearchBar\r\n                value={keyword}\r\n                data={items}\r\n                booklist={booklist}\r\n                changeHandler={searchHandler}\r\n                clickHandler={getTreatiseHandler}\r\n                onFocus={handleFocus}\r\n                onBlur={handleBlur}\r\n                toggleBookListBar={toggleBookListBar}\r\n              />\r\n              {isEmptyObject(item) ? <></> : <BookDetails data={item} addBooklist={addBooklist} />}\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </Layout>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}